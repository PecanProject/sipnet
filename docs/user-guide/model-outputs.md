
# Outputs

There are two main output files generated by SIPNET:
1. `sipnet.out`: Model state variables and fluxes at each timestep.
2. `events.out`: Contains a record of agronomic events processed during the simulation (if event handling is enabled).

## Model Outputs

The `sipnet.out` file contains a time series of state variables and fluxes from the simulation.  

| #  | Symbol           | Output Name         | Definition / Notes                                                        | Units        |
|----|------------------|---------------------|---------------------------------------------------------------------------|--------------|
| 1  |                  | year                | Year of start of timestep                                                 | (integer)    |
| 2  |                  | day                 | Day-of-year of start of timestep                                          | (integer)    |
| 3  |                  | time                | Hour-of-day (fractional) at start of timestep                             | hours        |
| 4  |                  | plantWoodC          | Woody plant carbon                                                        | g C m$^{-2}$ |
| 5  |                  | plantLeafC          | Leaf carbon                                                               | g C m$^{-2}$ |
| 6  |                  | woodCreation        | Carbon allocated to wood during timestep                                  | g C m$^{-2}$ |
| 7  |                  | soil                | (Single) soil organic carbon (or mineral soil C pool)                     | g C m$^{-2}$ |
| 8  |                  | microbeC            | Microbial carbon (0 if microbes flag off)                                 | g C m$^{-2}$ |
| 9  |                  | coarseRootC         | Coarse root carbon                                                        | g C m$^{-2}$ |
| 10 |                  | fineRootC           | Fine root carbon                                                          | g C m$^{-2}$ |
| 11 |                  | litter              | Litter carbon (0 if litter pool disabled)                                 | g C m$^{-2}$ |
| 12 |                  | soilWater           | Soil water content                                                        | cm           |
| 13 | $f_{\text{WHC}}$ | soilWetnessFrac     | Soil water as fraction of holding capacity                                | unitless     |
| 14 |                  | snow                | Snow water equivalent                                                     | cm           |
| 15 |                  | npp                 | Net primary production for timestep                                       | g C m$^{-2}$ |
| 16 |                  | nee                 | Net ecosystem exchange (sign convention per code: - (NPP - RH))           | g C m$^{-2}$ |
| 17 |                  | cumNEE              | Cumulative NEE since simulation start                                     | g C m$^{-2}$ |
| 18 | $GPP$            | gpp                 | Gross primary production                                                  | g C m$^{-2}$ |
| 19 |                  | rAboveground        | Aboveground autotrophic respiration (leaves + wood)                       | g C m$^{-2}$ |
| 20 | $R_H$            | rSoil               | Heterotrophic respiration (maintenance + microbe terms per configuration) | g C m$^{-2}$ |
| 21 |                  | rRoot               | Root (autotrophic) respiration                                            | g C m$^{-2}$ |
| 22 |                  | ra                  | Total autotrophic respiration (rAboveground + rRoot)                      | g C m$^{-2}$ |
| 23 |                  | rh                  | Total heterotrophic respiration (litter + soil components)                | g C m$^{-2}$ |
| 24 | $R$              | rtot                | Total ecosystem respiration (ra + rh)                                     | g C m$^{-2}$ |
| 25 |                  | evapotranspiration  | ET (transpiration + immedEvap + evaporation + sublimation) for timestep   | cm           |
| 26 |                  | fluxestranspiration | Transpiration component only                                              | cm           |
| 27 | $N_\textrm{min}$ | minN                | Soil mineral nitrogen                                                     | g N m$^{-2}$ |

<!-- Not yet implemented
| 24  | $F^N_\text{vol}$     | fluxesn2o           | Nitrous Oxide flux             | g N/m$^2$ / timestep |
| 25  | $F^C_{\text{CH}_4}$  | fluxesch4           | Methane Flux                   | g C/m$^2$ / timestep |
| 26  | $F^N_\text{vol}$     | fluxesn2o           | Nitrous Oxide flux             | g N/m$^2$ / timestep |
| 27  | $F^C_{\text{CH}_4}$  | fluxesch4           | Methane Flux                   | g C/m$^2$ / timestep |
-->

An example output file can be found in [tests/smoke/sipnet.out](https://github.com/PecanProject/sipnet/blob/master/tests/smoke/niwot/sipnet.out).

```
Notes: (PlantWoodC, PlantLeafC, Soil and Litter in g C/m^2; Water and Snow in cm; SoilWetness is fraction of WHC;
year day time plantWoodC plantLeafC woodCreation soil microbeC coarseRootC fineRootC litter soilWater soilWetnessFrac snow npp nee cumNEE gpp rAboveground rSoil rRoot ra rh rtot evapotranspiration fluxestranspiration minN
2016   1  0.00  1313.62     0.00     0.00  2688.14     0.00   437.87   437.86   279.98     3.34    0.270     0.80    -0.03     0.08     0.08     0.00    0.023    0.057    0.003    0.026    0.054    0.079 0.00157021   0.0000    1.000
2016   1  3.00  1313.59     0.00     0.00  2688.14     0.00   437.86   437.84   279.96     3.46    0.283     0.68    -0.02     0.08     0.16     0.00    0.019    0.060    0.003    0.022    0.057    0.079 0.00411191   0.0000    1.000
2016   1  6.00  1313.57     0.00     0.00  2688.14     0.00   437.84   437.82   279.93     3.52    0.291     0.61    -0.02     0.08     0.24     0.00    0.017    0.062    0.003    0.020    0.059    0.079 0.00442997   0.0000    1.000
```

## Events output

When event handling is enabled, SIPNET will create a file named `events.out`. 

This file is designed primarily for _testing and debugging_.  
It contains one row for each agronomic event that is processed. 
Each row lists the year, day, event type, and parameter name/value pairs. 
The name/value pairs represent the state variables that are directly changed by an event, recording the change (delta) applied to each.

Information in `events.out` can, in principle, be reconstructed or inferred from `events.in` and `sipnet.out` though this may be confounded if simultaneous events affect the same variable.

Still, _`sipnet.out` is the authoritative source_ for information about system state and evolution in time, including responses to events.

Below is an example `events.out`, with header enabled for clarity. 
Note the delimiters: spaces separate columns, commas separate name/value pairs, and `=` map names with their values (deltas).

```
year  day  type     param_name=delta[,param_name=delta,...]
2023   65  plant    envi.plantLeafC=3.00,envi.plantWoodC=4.00,envi.fineRootC=5.00,envi.coarseRootC=6.00
2023   70  irrig    envi.soilWater=5.00
2023  200  harv     env.litter=5.46,envi.plantLeafC=-5.93,envi.plantWoodC=-4.75,envi.fineRootC=-3.73,envi.coarseRootC=-3.89
2024   65  plant    envi.plantLeafC=3.00,envi.plantWoodC=5.00,envi.fineRootC=7.00,envi.coarseRootC=9.00
2024   70  irrig    fluxes.immedEvap=2.50,envi.soilWater=2.50
2024  200  harv     env.litter=4.25,envi.plantLeafC=-1.39,envi.plantWoodC=-1.63,envi.fineRootC=-2.52,envi.coarseRootC=-2.97
```
