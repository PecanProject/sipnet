\doxysection{events.\+c File Reference}
\label{events_8c}\index{events.c@{events.c}}


Handles reading, parsing, and storing agronomic events for SIPNET simulations.  


{\ttfamily \#include "{}events.\+h"{}}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include "{}common/exit\+Codes.\+h"{}}\newline
{\ttfamily \#include "{}common/logging.\+h"{}}\newline
{\ttfamily \#include "{}common/util.\+h"{}}\newline
{\ttfamily \#include "{}state.\+h"{}}\newline
Include dependency graph for events.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d4/d63/events_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ Event\+Node} $\ast$ \textbf{ create\+Event\+Node} (int year, int day, int event\+Type, const char $\ast$event\+Params\+Str)
\item 
const char $\ast$ \textbf{ event\+Type\+To\+String} (\textbf{ event\+\_\+type\+\_\+t} type)
\item 
\textbf{ event\+\_\+type\+\_\+t} \textbf{ event\+String\+To\+Type} (const char $\ast$event\+Type\+Str)
\item 
\textbf{ Event\+Node} $\ast$ \textbf{ read\+Event\+Data} (char $\ast$event\+File)
\item 
void \textbf{ open\+Event\+Out\+File} (int print\+Header)
\item 
void \textbf{ write\+Event\+Out} (\textbf{ Event\+Node} $\ast$one\+Event, int num\+Params,...)
\begin{DoxyCompactList}\small\item\em Write a line to events.\+out for a single one\+Event. \end{DoxyCompactList}\item 
void \textbf{ close\+Event\+Out\+File} ()
\item 
void \textbf{ init\+Events} (char $\ast$event\+File, int print\+Header)
\item 
void \textbf{ setup\+Events} ()
\item 
void \textbf{ reset\+Event\+Fluxes} (void)
\item 
void \textbf{ process\+Events} (void)
\begin{DoxyCompactList}\small\item\em Process events for current location/year/day. \end{DoxyCompactList}\item 
void \textbf{ update\+Pools\+For\+Events} (void)
\item 
void \textbf{ free\+Event\+List} (void)
\item 
void \textbf{ init\+Event\+Trackers} (void)
\item 
void \textbf{ update\+Event\+Trackers} (void)
\item 
void \textbf{ print\+Event} (\textbf{ Event\+Node} $\ast$one\+Event)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\textbf{ Event\+Node} $\ast$ \textbf{ g\+Events} = NULL
\item 
\textbf{ Event\+Node} $\ast$ \textbf{ g\+Event} = NULL
\item 
static FILE $\ast$ \textbf{ event\+Out\+File} = NULL
\item 
\textbf{ Event\+Trackers} \textbf{ event\+Trackers}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Handles reading, parsing, and storing agronomic events for SIPNET simulations. 

The {\ttfamily events.\+in} file specifies agronomic events. See the input documentation (currently parameters.\+md) for information on the format of that file. Also, see test examples in {\ttfamily tests/sipnet/test\+\_\+events\+\_\+infrastructure/} and tests/sipnet/test\+\_\+events\+\_\+types/. 

Definition in file \textbf{ events.\+c}.



\doxysubsection{Function Documentation}
\label{events_8c_a0f8aee6b04cbd9e1d72353f7afa2e12e} 
\index{events.c@{events.c}!closeEventOutFile@{closeEventOutFile}}
\index{closeEventOutFile@{closeEventOutFile}!events.c@{events.c}}
\doxysubsubsection{closeEventOutFile()}
{\footnotesize\ttfamily void close\+Event\+Out\+File (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Close the event output file 
\begin{DoxyParams}{Parameters}
{\em file} & FILE pointer for output file \\
\hline
\end{DoxyParams}


Definition at line \textbf{ 288} of file \textbf{ events.\+c}.



References \textbf{ event\+Out\+File}.



Referenced by \textbf{ cleanup\+Model()}.

\label{events_8c_a888530715da1c012e928f07daa4b7209} 
\index{events.c@{events.c}!createEventNode@{createEventNode}}
\index{createEventNode@{createEventNode}!events.c@{events.c}}
\doxysubsubsection{createEventNode()}
{\footnotesize\ttfamily \textbf{ Event\+Node} $\ast$ create\+Event\+Node (\begin{DoxyParamCaption}\item[{int}]{year,  }\item[{int}]{day,  }\item[{int}]{event\+Type,  }\item[{const char $\ast$}]{event\+Params\+Str }\end{DoxyParamCaption})}



Definition at line \textbf{ 33} of file \textbf{ events.\+c}.



References \textbf{ Irrigation\+Params\+::amount\+Added}, \textbf{ Planting\+Params\+::coarse\+RootC}, \textbf{ Event\+Node\+::day}, \textbf{ Event\+Node\+::event\+Params}, \textbf{ EXIT\+\_\+\+CODE\+\_\+\+BAD\+\_\+\+PARAMETER\+\_\+\+VALUE}, \textbf{ EXIT\+\_\+\+CODE\+\_\+\+INPUT\+\_\+\+FILE\+\_\+\+ERROR}, \textbf{ FERTILIZATION}, \textbf{ Planting\+Params\+::fine\+RootC}, \textbf{ Harvest\+Params\+::fraction\+Removed\+Above}, \textbf{ Harvest\+Params\+::fraction\+Removed\+Below}, \textbf{ Harvest\+Params\+::fraction\+Transferred\+Above}, \textbf{ Harvest\+Params\+::fraction\+Transferred\+Below}, \textbf{ HARVEST}, \textbf{ IRRIGATION}, \textbf{ Planting\+Params\+::leafC}, \textbf{ log\+Error}, \textbf{ Irrigation\+Params\+::method}, \textbf{ Fertilization\+Params\+::minN}, \textbf{ Event\+Node\+::next\+Event}, \textbf{ NUM\+\_\+\+FERTILIZATION\+\_\+\+PARAMS}, \textbf{ NUM\+\_\+\+HARVEST\+\_\+\+PARAMS}, \textbf{ NUM\+\_\+\+IRRIGATION\+\_\+\+PARAMS}, \textbf{ NUM\+\_\+\+PLANTING\+\_\+\+PARAMS}, \textbf{ NUM\+\_\+\+TILLAGE\+\_\+\+PARAMS}, \textbf{ Fertilization\+Params\+::orgC}, \textbf{ Fertilization\+Params\+::orgN}, \textbf{ PLANTING}, \textbf{ TILLAGE}, \textbf{ Tillage\+Params\+::tillage\+Effect}, \textbf{ Event\+Node\+::type}, \textbf{ Planting\+Params\+::woodC}, and \textbf{ Event\+Node\+::year}.



Referenced by \textbf{ read\+Event\+Data()}.

\label{events_8c_af004e8c62b6460f3db5b7507e459abf7} 
\index{events.c@{events.c}!eventStringToType@{eventStringToType}}
\index{eventStringToType@{eventStringToType}!events.c@{events.c}}
\doxysubsubsection{eventStringToType()}
{\footnotesize\ttfamily \textbf{ event\+\_\+type\+\_\+t} event\+String\+To\+Type (\begin{DoxyParamCaption}\item[{const char $\ast$}]{event\+Type\+Str }\end{DoxyParamCaption})}

Convert event string to corresponding enum value


\begin{DoxyParams}{Parameters}
{\em string} & string version of event enum type \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
enum value representing the event 
\end{DoxyReturn}


Definition at line \textbf{ 158} of file \textbf{ events.\+c}.



References \textbf{ FERTILIZATION}, \textbf{ HARVEST}, \textbf{ IRRIGATION}, \textbf{ PLANTING}, \textbf{ TILLAGE}, and \textbf{ UNKNOWN\+\_\+\+EVENT}.



Referenced by \textbf{ read\+Event\+Data()}.

\label{events_8c_adaf5398f33e074025777106e1211e3c6} 
\index{events.c@{events.c}!eventTypeToString@{eventTypeToString}}
\index{eventTypeToString@{eventTypeToString}!events.c@{events.c}}
\doxysubsubsection{eventTypeToString()}
{\footnotesize\ttfamily const char $\ast$ event\+Type\+To\+String (\begin{DoxyParamCaption}\item[{\textbf{ event\+\_\+type\+\_\+t}}]{type }\end{DoxyParamCaption})}

Convert event enum value to corresponding string


\begin{DoxyParams}{Parameters}
{\em type} & enum value representing the event \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string version of event enum type 
\end{DoxyReturn}


Definition at line \textbf{ 140} of file \textbf{ events.\+c}.



References \textbf{ EXIT\+\_\+\+CODE\+\_\+\+UNKNOWN\+\_\+\+EVENT\+\_\+\+TYPE\+\_\+\+OR\+\_\+\+PARAM}, \textbf{ FERTILIZATION}, \textbf{ HARVEST}, \textbf{ IRRIGATION}, \textbf{ log\+Error}, \textbf{ PLANTING}, and \textbf{ TILLAGE}.



Referenced by \textbf{ write\+Event\+Out()}.

\label{events_8c_ae82fb7f2677202f858acbb5971811688} 
\index{events.c@{events.c}!freeEventList@{freeEventList}}
\index{freeEventList@{freeEventList}!events.c@{events.c}}
\doxysubsubsection{freeEventList()}
{\footnotesize\ttfamily void free\+Event\+List (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Deallocate space used for events linked list 

Definition at line \textbf{ 477} of file \textbf{ events.\+c}.



References \textbf{ g\+Events}, and \textbf{ Event\+Node\+::next\+Event}.



Referenced by \textbf{ cleanup\+Model()}.

\label{events_8c_a652d7b4ee171e11adcf885fc8907d130} 
\index{events.c@{events.c}!initEvents@{initEvents}}
\index{initEvents@{initEvents}!events.c@{events.c}}
\doxysubsubsection{initEvents()}
{\footnotesize\ttfamily void init\+Events (\begin{DoxyParamCaption}\item[{char $\ast$}]{event\+File,  }\item[{int}]{print\+Header }\end{DoxyParamCaption})}

Read in event data for all the model runs

Read in event data from a file with the following specification\+:
\begin{DoxyItemize}
\item one line per event
\item all events are ordered by year/day ascending
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em event\+File} & Name of file containing event data \\
\hline
\end{DoxyParams}


Definition at line \textbf{ 294} of file \textbf{ events.\+c}.



References \textbf{ ctx}, \textbf{ Context\+::events}, \textbf{ g\+Events}, \textbf{ open\+Event\+Out\+File()}, and \textbf{ read\+Event\+Data()}.



Referenced by \textbf{ main()}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/deb/events_8c_a652d7b4ee171e11adcf885fc8907d130_cgraph}
\end{center}
\end{figure}
\label{events_8c_ad2bd920387bf6b1a109235dbe00da30b} 
\index{events.c@{events.c}!initEventTrackers@{initEventTrackers}}
\index{initEventTrackers@{initEventTrackers}!events.c@{events.c}}
\doxysubsubsection{initEventTrackers()}
{\footnotesize\ttfamily void init\+Event\+Trackers (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Initialize Event\+Trackers struct for tracking lingering event effects 

Definition at line \textbf{ 491} of file \textbf{ events.\+c}.



References \textbf{ Event\+Tracker\+Struct\+::d\+\_\+till\+\_\+mod}, and \textbf{ event\+Trackers}.



Referenced by \textbf{ setup\+Model()}.

\label{events_8c_a00254fcd00e2cf4a0cb1a9f3d4843729} 
\index{events.c@{events.c}!openEventOutFile@{openEventOutFile}}
\index{openEventOutFile@{openEventOutFile}!events.c@{events.c}}
\doxysubsubsection{openEventOutFile()}
{\footnotesize\ttfamily void open\+Event\+Out\+File (\begin{DoxyParamCaption}\item[{int}]{print\+Header }\end{DoxyParamCaption})}

Open the event output file and optionally write a header row 
\begin{DoxyParams}{Parameters}
{\em print\+Header} & Flag, non-\/zero value means write a header row \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
FILE pointer to output file 
\end{DoxyReturn}


Definition at line \textbf{ 257} of file \textbf{ events.\+c}.



References \textbf{ EVENT\+\_\+\+OUT\+\_\+\+FILE}, \textbf{ event\+Out\+File}, and \textbf{ open\+File()}.



Referenced by \textbf{ init\+Events()}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=241pt]{de/deb/events_8c_a00254fcd00e2cf4a0cb1a9f3d4843729_cgraph}
\end{center}
\end{figure}
\label{events_8c_ab7d775e58699585050eef5f7dc8b000e} 
\index{events.c@{events.c}!printEvent@{printEvent}}
\index{printEvent@{printEvent}!events.c@{events.c}}
\doxysubsubsection{printEvent()}
{\footnotesize\ttfamily void print\+Event (\begin{DoxyParamCaption}\item[{\textbf{ Event\+Node} $\ast$}]{one\+Event }\end{DoxyParamCaption})}



Definition at line \textbf{ 506} of file \textbf{ events.\+c}.



References \textbf{ Irrigation\+Params\+::amount\+Added}, \textbf{ Planting\+Params\+::coarse\+RootC}, \textbf{ Event\+Node\+::day}, \textbf{ Event\+Node\+::event\+Params}, \textbf{ FERTILIZATION}, \textbf{ Planting\+Params\+::fine\+RootC}, \textbf{ Harvest\+Params\+::fraction\+Removed\+Above}, \textbf{ Harvest\+Params\+::fraction\+Removed\+Below}, \textbf{ Harvest\+Params\+::fraction\+Transferred\+Above}, \textbf{ Harvest\+Params\+::fraction\+Transferred\+Below}, \textbf{ HARVEST}, \textbf{ IRRIGATION}, \textbf{ Planting\+Params\+::leafC}, \textbf{ Fertilization\+Params\+::minN}, \textbf{ Fertilization\+Params\+::orgC}, \textbf{ Fertilization\+Params\+::orgN}, \textbf{ PLANTING}, \textbf{ TILLAGE}, \textbf{ Tillage\+Params\+::tillage\+Effect}, \textbf{ Event\+Node\+::type}, \textbf{ Planting\+Params\+::woodC}, and \textbf{ Event\+Node\+::year}.

\label{events_8c_afb4ad97daa6ca46b43b7eae3554c17fe} 
\index{events.c@{events.c}!processEvents@{processEvents}}
\index{processEvents@{processEvents}!events.c@{events.c}}
\doxysubsubsection{processEvents()}
{\footnotesize\ttfamily void process\+Events (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Process events for current location/year/day. 

For a given year and day (as determined by the global {\ttfamily climate} pointer), process all events listed in the global {\ttfamily events} pointer for the referenced location.

For each event, modify flux variables according to the model for that event, and write a row to events.\+out listing the modified variables and the delta applied. 

Definition at line \textbf{ 313} of file \textbf{ events.\+c}.



References \textbf{ Irrigation\+Params\+::amount\+Added}, \textbf{ CANOPY}, \textbf{ climate}, \textbf{ Planting\+Params\+::coarse\+RootC}, \textbf{ Environment\+::coarse\+RootC}, \textbf{ Event\+Tracker\+Struct\+::d\+\_\+till\+\_\+mod}, \textbf{ Event\+Node\+::day}, \textbf{ Climate\+Vars\+::day}, \textbf{ envi}, \textbf{ Flux\+Vars\+::event\+Coarse\+RootC}, \textbf{ Flux\+Vars\+::event\+Evap}, \textbf{ Flux\+Vars\+::event\+Fine\+RootC}, \textbf{ Flux\+Vars\+::event\+LeafC}, \textbf{ Flux\+Vars\+::event\+LitterC}, \textbf{ Event\+Node\+::event\+Params}, \textbf{ Flux\+Vars\+::event\+Soil\+Water}, \textbf{ event\+Trackers}, \textbf{ Flux\+Vars\+::event\+WoodC}, \textbf{ EXIT\+\_\+\+CODE\+\_\+\+BAD\+\_\+\+PARAMETER\+\_\+\+VALUE}, \textbf{ EXIT\+\_\+\+CODE\+\_\+\+INPUT\+\_\+\+FILE\+\_\+\+ERROR}, \textbf{ EXIT\+\_\+\+CODE\+\_\+\+UNKNOWN\+\_\+\+EVENT\+\_\+\+TYPE\+\_\+\+OR\+\_\+\+PARAM}, \textbf{ FERTILIZATION}, \textbf{ Planting\+Params\+::fine\+RootC}, \textbf{ Environment\+::fine\+RootC}, \textbf{ fluxes}, \textbf{ Harvest\+Params\+::fraction\+Removed\+Above}, \textbf{ Harvest\+Params\+::fraction\+Removed\+Below}, \textbf{ Harvest\+Params\+::fraction\+Transferred\+Above}, \textbf{ Harvest\+Params\+::fraction\+Transferred\+Below}, \textbf{ g\+Event}, \textbf{ HARVEST}, \textbf{ Parameters\+::immed\+Evap\+Frac}, \textbf{ IRRIGATION}, \textbf{ Planting\+Params\+::leafC}, \textbf{ Climate\+Vars\+::length}, \textbf{ log\+Error}, \textbf{ Irrigation\+Params\+::method}, \textbf{ Event\+Node\+::next\+Event}, \textbf{ Fertilization\+Params\+::orgC}, \textbf{ params}, \textbf{ PLANTING}, \textbf{ Environment\+::plant\+LeafC}, \textbf{ Environment\+::plant\+WoodC}, \textbf{ reset\+Event\+Fluxes()}, \textbf{ SOIL}, \textbf{ TILLAGE}, \textbf{ Tillage\+Params\+::tillage\+Effect}, \textbf{ Event\+Node\+::type}, \textbf{ Planting\+Params\+::woodC}, \textbf{ write\+Event\+Out()}, \textbf{ Event\+Node\+::year}, and \textbf{ Climate\+Vars\+::year}.



Referenced by \textbf{ update\+State()}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/deb/events_8c_afb4ad97daa6ca46b43b7eae3554c17fe_cgraph}
\end{center}
\end{figure}
\label{events_8c_adb0aecb501956ec964a98b0310035c54} 
\index{events.c@{events.c}!readEventData@{readEventData}}
\index{readEventData@{readEventData}!events.c@{events.c}}
\doxysubsubsection{readEventData()}
{\footnotesize\ttfamily \textbf{ Event\+Node} $\ast$ read\+Event\+Data (\begin{DoxyParamCaption}\item[{char $\ast$}]{event\+File }\end{DoxyParamCaption})}

Read event data from input filename (canonically events.\+in)

Format\+: returned data is structured as an linked list of \doxyref{Event\+Node}{p.}{d6/d43/struct_event_node} pointers. It is assumed that the events are ordered by year and day. 

Definition at line \textbf{ 173} of file \textbf{ events.\+c}.



References \textbf{ create\+Event\+Node()}, \textbf{ event\+String\+To\+Type()}, \textbf{ EXIT\+\_\+\+CODE\+\_\+\+INPUT\+\_\+\+FILE\+\_\+\+ERROR}, \textbf{ EXIT\+\_\+\+CODE\+\_\+\+UNKNOWN\+\_\+\+EVENT\+\_\+\+TYPE\+\_\+\+OR\+\_\+\+PARAM}, \textbf{ log\+Error}, \textbf{ log\+Info}, \textbf{ Event\+Node\+::next\+Event}, \textbf{ NUM\+\_\+\+EVENT\+\_\+\+CORE\+\_\+\+PARAMS}, \textbf{ open\+File()}, and \textbf{ UNKNOWN\+\_\+\+EVENT}.



Referenced by \textbf{ init\+Events()}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=275pt]{de/deb/events_8c_adb0aecb501956ec964a98b0310035c54_cgraph}
\end{center}
\end{figure}
\label{events_8c_a12a8b3b4bb0688542d26bdb00f9c1961} 
\index{events.c@{events.c}!resetEventFluxes@{resetEventFluxes}}
\index{resetEventFluxes@{resetEventFluxes}!events.c@{events.c}}
\doxysubsubsection{resetEventFluxes()}
{\footnotesize\ttfamily void reset\+Event\+Fluxes (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Set all event fluxes to zero

Reset all event fluxes to zero in preparation for the next climate step. 

Definition at line \textbf{ 303} of file \textbf{ events.\+c}.



References \textbf{ Flux\+Vars\+::event\+Coarse\+RootC}, \textbf{ Flux\+Vars\+::event\+Evap}, \textbf{ Flux\+Vars\+::event\+Fine\+RootC}, \textbf{ Flux\+Vars\+::event\+LeafC}, \textbf{ Flux\+Vars\+::event\+LitterC}, \textbf{ Flux\+Vars\+::event\+Soil\+Water}, \textbf{ Flux\+Vars\+::event\+WoodC}, and \textbf{ fluxes}.



Referenced by \textbf{ process\+Events()}.

\label{events_8c_a21f961b493802a978c8eb210422b3f31} 
\index{events.c@{events.c}!setupEvents@{setupEvents}}
\index{setupEvents@{setupEvents}!events.c@{events.c}}
\doxysubsubsection{setupEvents()}
{\footnotesize\ttfamily void setup\+Events (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Initialize global event pointer 

Definition at line \textbf{ 301} of file \textbf{ events.\+c}.



References \textbf{ g\+Event}, and \textbf{ g\+Events}.



Referenced by \textbf{ run\+Model\+Output()}.

\label{events_8c_a2c2f094a0b3c9bd9fa1274bef1d7345c} 
\index{events.c@{events.c}!updateEventTrackers@{updateEventTrackers}}
\index{updateEventTrackers@{updateEventTrackers}!events.c@{events.c}}
\doxysubsubsection{updateEventTrackers()}
{\footnotesize\ttfamily void update\+Event\+Trackers (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Perform any needed udpates post fluxes-\/and-\/pools updates 

Definition at line \textbf{ 493} of file \textbf{ events.\+c}.



References \textbf{ climate}, \textbf{ Event\+Tracker\+Struct\+::d\+\_\+till\+\_\+mod}, \textbf{ event\+Trackers}, \textbf{ Climate\+Vars\+::length}, \textbf{ TILLAGE\+\_\+\+DECAY\+\_\+\+FACTOR}, and \textbf{ TILLAGE\+\_\+\+THRESHOLD}.



Referenced by \textbf{ update\+State()}.

\label{events_8c_ac9de3738992b3780a28e1bdc3eba6604} 
\index{events.c@{events.c}!updatePoolsForEvents@{updatePoolsForEvents}}
\index{updatePoolsForEvents@{updatePoolsForEvents}!events.c@{events.c}}
\doxysubsubsection{updatePoolsForEvents()}
{\footnotesize\ttfamily void update\+Pools\+For\+Events (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Update relevant environment pools after event fluxes have been calculated 

Definition at line \textbf{ 457} of file \textbf{ events.\+c}.



References \textbf{ climate}, \textbf{ Environment\+::coarse\+RootC}, \textbf{ ctx}, \textbf{ envi}, \textbf{ Flux\+Vars\+::event\+Coarse\+RootC}, \textbf{ Flux\+Vars\+::event\+Fine\+RootC}, \textbf{ Flux\+Vars\+::event\+LeafC}, \textbf{ Flux\+Vars\+::event\+LitterC}, \textbf{ Flux\+Vars\+::event\+Soil\+Water}, \textbf{ Flux\+Vars\+::event\+WoodC}, \textbf{ Environment\+::fine\+RootC}, \textbf{ fluxes}, \textbf{ Climate\+Vars\+::length}, \textbf{ Environment\+::litter}, \textbf{ Context\+::litter\+Pool}, \textbf{ Environment\+::plant\+LeafC}, \textbf{ Environment\+::plant\+WoodC}, \textbf{ Environment\+::soil}, and \textbf{ Environment\+::soil\+Water}.



Referenced by \textbf{ update\+State()}.

\label{events_8c_ac10b012ee2d3fc00122b3bfd0069da32} 
\index{events.c@{events.c}!writeEventOut@{writeEventOut}}
\index{writeEventOut@{writeEventOut}!events.c@{events.c}}
\doxysubsubsection{writeEventOut()}
{\footnotesize\ttfamily void write\+Event\+Out (\begin{DoxyParamCaption}\item[{\textbf{ Event\+Node} $\ast$}]{one\+Event,  }\item[{int}]{num\+Params,  }\item[{}]{... }\end{DoxyParamCaption})}



Write a line to events.\+out for a single one\+Event. 

Writes a single one\+Event to events.\+out. This is a variadic function which expects to receive 2$\ast$num\+Params values in (char$\ast$, double) pairs after the num\+Params argument.

Output format\+:

year day event\+\_\+type $<$param\+\_\+name$>$=$<$delta$>$[,$<$param\+\_\+name$>$=$<$delta$>$,...]


\begin{DoxyParams}{Parameters}
{\em out} & FILE pointer to events.\+out \\
\hline
{\em one\+Event} & Pointer to one\+Event node \\
\hline
{\em num\+Params} & Number of param/value pairs to write \\
\hline
{\em ...} & Pairs of (char$\ast$, double) arguments to write, 2$\ast$num\+Params values \\
\hline
\end{DoxyParams}


Definition at line \textbf{ 267} of file \textbf{ events.\+c}.



References \textbf{ Event\+Node\+::day}, \textbf{ event\+Out\+File}, \textbf{ event\+Type\+To\+String()}, \textbf{ Event\+Node\+::type}, and \textbf{ Event\+Node\+::year}.



Referenced by \textbf{ process\+Events()}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=272pt]{de/deb/events_8c_ac10b012ee2d3fc00122b3bfd0069da32_cgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\label{events_8c_acb0bc186ee10fd1a7ce8d16fb65c7225} 
\index{events.c@{events.c}!eventOutFile@{eventOutFile}}
\index{eventOutFile@{eventOutFile}!events.c@{events.c}}
\doxysubsubsection{eventOutFile}
{\footnotesize\ttfamily FILE$\ast$ event\+Out\+File = NULL\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \textbf{ 31} of file \textbf{ events.\+c}.



Referenced by \textbf{ close\+Event\+Out\+File()}, \textbf{ open\+Event\+Out\+File()}, and \textbf{ write\+Event\+Out()}.

\label{events_8c_ae3df6da54a2bb8e281ae1af683185cdb} 
\index{events.c@{events.c}!eventTrackers@{eventTrackers}}
\index{eventTrackers@{eventTrackers}!events.c@{events.c}}
\doxysubsubsection{eventTrackers}
{\footnotesize\ttfamily \textbf{ Event\+Trackers} event\+Trackers}



Definition at line \textbf{ 489} of file \textbf{ events.\+c}.



Referenced by \textbf{ calc\+Soil\+Maint\+Respiration()}, \textbf{ init\+Event\+Trackers()}, \textbf{ process\+Events()}, and \textbf{ update\+Event\+Trackers()}.

\label{events_8c_a38b6ca986e84c3617003a946ba612b1b} 
\index{events.c@{events.c}!gEvent@{gEvent}}
\index{gEvent@{gEvent}!events.c@{events.c}}
\doxysubsubsection{gEvent}
{\footnotesize\ttfamily \textbf{ Event\+Node}$\ast$ g\+Event = NULL}



Definition at line \textbf{ 28} of file \textbf{ events.\+c}.



Referenced by \textbf{ process\+Events()}, and \textbf{ setup\+Events()}.

\label{events_8c_a68075a1225c7f9cb57469c8b3069eee4} 
\index{events.c@{events.c}!gEvents@{gEvents}}
\index{gEvents@{gEvents}!events.c@{events.c}}
\doxysubsubsection{gEvents}
{\footnotesize\ttfamily \textbf{ Event\+Node}$\ast$ g\+Events = NULL}



Definition at line \textbf{ 27} of file \textbf{ events.\+c}.



Referenced by \textbf{ free\+Event\+List()}, \textbf{ init\+Events()}, and \textbf{ setup\+Events()}.

