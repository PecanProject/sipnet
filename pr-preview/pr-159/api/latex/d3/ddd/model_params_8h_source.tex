\doxysection{model\+Params.\+h}
\label{model_params_8h_source}\index{modelParams.h@{modelParams.h}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ MODEL\_PARAMS\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ MODEL\_PARAMS\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#define\ MODEL\_PARAM\_MAXNAME\ 64}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#define\ OBSOLETE\_PARAM\ (-\/1)}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{comment}{//\ struct\ to\ hold\ a\ single\ param}}
\DoxyCodeLine{00010\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }OneModelParamStruct\ \{}
\DoxyCodeLine{00011\ \ \ \textcolor{keywordtype}{char}\ name[MODEL\_PARAM\_MAXNAME];\ \ \textcolor{comment}{//\ name\ of\ parameter}}
\DoxyCodeLine{00012\ \ \ \textcolor{keywordtype}{int}\ isRequired;\ \ \textcolor{comment}{//\ 1|0|OBSOLETE\_PARAM\ (-\/1)}}
\DoxyCodeLine{00013\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ 1:\ required\ param,\ terminate\ if\ not\ read}}
\DoxyCodeLine{00014\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ 0:\ optional\ param}}
\DoxyCodeLine{00015\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ -\/1:\ obsolete\ param,\ warn\ if\ read}}
\DoxyCodeLine{00016\ \ \ \textcolor{keywordtype}{double}\ *value;\ \ \textcolor{comment}{//\ a\ pointer\ to\ this\ param's\ (external\ location)\ value}}
\DoxyCodeLine{00017\ \ \ \textcolor{keywordtype}{int}\ isRead;\ \ \textcolor{comment}{//\ whether\ this\ param\ has\ been\ read}}
\DoxyCodeLine{00018\ \}\ OneModelParam;}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }ModelParamsStruct\ \{}
\DoxyCodeLine{00021\ \ \ OneModelParam\ *params;\ \ \textcolor{comment}{//\ vector\ of\ parameters,\ dynamically-\/allocated}}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ (stored\ in\ order\ in\ which\ they\ were\ initialized)}}
\DoxyCodeLine{00023\ \ \ \textcolor{keywordtype}{int}\ maxParams;\ \ \textcolor{comment}{//\ maximum\ number\ of\ parameters}}
\DoxyCodeLine{00024\ \ \ \textcolor{keywordtype}{int}\ numParams;\ \ \textcolor{comment}{//\ actual\ number\ of\ parameters\ (tracks\ \#\ that\ have\ been}}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ initialized\ with\ initializeOneSpatialParam)}}
\DoxyCodeLine{00026\ \ \ \textcolor{keywordtype}{int}\ numParamsRead;\ \ \textcolor{comment}{//\ tracks\ number\ of\ parameters\ that\ have\ been\ read\ in\ from}}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ file}}
\DoxyCodeLine{00028\ \ \ \textcolor{keywordtype}{int}\ *readIndices;\ \ \textcolor{comment}{//\ indices\ (in\ parameters\ vector)\ of\ the\ parameters\ read}}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ from\ file,\ in\ the\ order\ in\ which\ they\ were\ read\ (this}}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ will\ allow\ us\ to\ output\ parameters\ in\ the\ same\ order}}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ later)}}
\DoxyCodeLine{00032\ \}\ ModelParams;}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{comment}{//\ allocate\ space\ for\ a\ new\ spatialParams\ structure,\ return\ a\ pointer\ to\ it}}
\DoxyCodeLine{00035\ ModelParams\ *newModelParams(\textcolor{keywordtype}{int}\ maxParameters);}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{comment}{/*\ Initialize\ next\ parameter:}}
\DoxyCodeLine{00038\ \textcolor{comment}{\ \ \ Set\ name\ of\ parameter\ equal\ to\ "{}name"{},}}
\DoxyCodeLine{00039\ \textcolor{comment}{\ \ \ \ and\ set\ parameter's\ value\ pointer\ to\ point\ to\ the\ location\ given\ by}}
\DoxyCodeLine{00040\ \textcolor{comment}{\ \ \ "{}externalLoc"{}\ parameter\ (required\ to\ be\ non-\/NULL)}}
\DoxyCodeLine{00041\ \textcolor{comment}{\ \ \ Also\ set\ parameter's\ isRequired\ value:\ if\ true,\ then\ we'll\ terminate}}
\DoxyCodeLine{00042\ \textcolor{comment}{\ \ \ execution\ if\ this\ parameter\ is\ not\ read\ from\ file}}
\DoxyCodeLine{00043\ \textcolor{comment}{*/}}
\DoxyCodeLine{00044\ \textcolor{keywordtype}{void}\ initializeOneModelParam(ModelParams\ *params,\ \textcolor{keywordtype}{char}\ *name,}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ *externalLoc,\ \textcolor{keywordtype}{int}\ isRequired);}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \textcolor{comment}{/*\ Read\ all\ parameters\ from\ file,\ setting\ all\ values\ in\ Params\ structure}}
\DoxyCodeLine{00048\ \textcolor{comment}{\ \ \ appropriately}}
\DoxyCodeLine{00049\ \textcolor{comment}{}}
\DoxyCodeLine{00050\ \textcolor{comment}{\ \ \ Structure\ of\ paramFile:}}
\DoxyCodeLine{00051\ \textcolor{comment}{\ \ \ \ \ \ name\ \ value}}
\DoxyCodeLine{00052\ \textcolor{comment}{}}
\DoxyCodeLine{00053\ \textcolor{comment}{\ \ \ The\ order\ of\ the\ parameters\ in\ paramFile\ does\ not\ matter.}}
\DoxyCodeLine{00054\ \textcolor{comment}{}}
\DoxyCodeLine{00055\ \textcolor{comment}{\ \ \ !\ is\ a\ comment\ character\ in\ paramFile:\ anything\ after\ a\ !\ on\ a\ line\ is}}
\DoxyCodeLine{00056\ \textcolor{comment}{\ \ \ ignored}}
\DoxyCodeLine{00057\ \textcolor{comment}{}}
\DoxyCodeLine{00058\ \textcolor{comment}{\ \ \ PRE:\ paramFile\ is\ open\ and\ file\ pointer\ points\ to\ start\ of\ file}}
\DoxyCodeLine{00059\ \textcolor{comment}{}}
\DoxyCodeLine{00060\ \textcolor{comment}{\ \ \ NOTE:\ for\ compatibility\ with\ the\ prior\ format,\ the\ following\ structure\ is}}
\DoxyCodeLine{00061\ \textcolor{comment}{\ \ \ also\ acceptable:\ name\ \ value\ \ changeable\ \ min\ \ max\ \ sigma\ When\ encountered,}}
\DoxyCodeLine{00062\ \textcolor{comment}{\ \ \ the\ extra\ columns\ are\ ignored\ and\ a\ warning\ is\ generated.}}
\DoxyCodeLine{00063\ \textcolor{comment}{}}
\DoxyCodeLine{00064\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00065\ \textcolor{keywordtype}{void}\ readModelParams(ModelParams\ *params,\ FILE\ *paramFile);}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \textcolor{comment}{//\ Return\ numParameters,\ the\ actual\ number\ of\ parameters\ that\ have\ been}}
\DoxyCodeLine{00068\ \textcolor{comment}{//\ initialized\ with\ initializeOneSpatialParam}}
\DoxyCodeLine{00069\ \textcolor{keywordtype}{int}\ getNumModelParams(ModelParams\ *params);}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \textcolor{comment}{//\ Return\ number\ of\ parameters\ that\ have\ been\ read\ in\ from\ file}}
\DoxyCodeLine{00072\ \textcolor{keywordtype}{int}\ getNumModelParamsRead(ModelParams\ *params);}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \textcolor{comment}{//\ Find\ parameter\ with\ given\ name\ in\ the\ parameters\ vector}}
\DoxyCodeLine{00075\ \textcolor{comment}{//\ If\ found,\ return\ index\ in\ vector,\ otherwise\ return\ -\/1}}
\DoxyCodeLine{00076\ \textcolor{keywordtype}{int}\ locateParam(ModelParams\ *params,\ \textcolor{keywordtype}{char}\ *name);}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \textcolor{comment}{//\ Return\ 1\ if\ parameter\ i\ has\ had\ its\ value\ set,\ 0\ otherwise}}
\DoxyCodeLine{00079\ \textcolor{keywordtype}{int}\ valueSet(ModelParams\ *params,\ \textcolor{keywordtype}{int}\ i);}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \textcolor{comment}{/*\ Check\ to\ see\ whether\ value\ is\ within\ allowable\ range\ of\ parameter\ i}}
\DoxyCodeLine{00082\ \textcolor{comment}{\ \ \ Return\ 1\ if\ okay,\ 0\ if\ bad}}
\DoxyCodeLine{00083\ \textcolor{comment}{*/}}
\DoxyCodeLine{00084\ \textcolor{keywordtype}{int}\ checkParam(ModelParams\ *params,\ \textcolor{keywordtype}{int}\ i,\ \textcolor{keywordtype}{double}\ value);}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \textcolor{comment}{/*\ Return\ value\ of\ parameter\ i}}
\DoxyCodeLine{00087\ \textcolor{comment}{\ \ \ PRE:\ 0\ <=\ i\ <\ modelParams-\/>numParameters}}
\DoxyCodeLine{00088\ \textcolor{comment}{*/}}
\DoxyCodeLine{00089\ \textcolor{keywordtype}{double}\ getParam(ModelParams\ *params,\ \textcolor{keywordtype}{int}\ i);}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \textcolor{comment}{//\ Clean\ up:\ deallocate\ modelParams\ and\ any\ other\ dynamically-\/allocated}}
\DoxyCodeLine{00092\ \textcolor{comment}{//\ pointers\ that\ need\ deallocating}}
\DoxyCodeLine{00093\ \textcolor{keywordtype}{void}\ deleteModelParams(ModelParams\ *params);}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
